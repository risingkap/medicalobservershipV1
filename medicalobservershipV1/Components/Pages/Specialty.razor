@page "/specialty"
@page "/"
@rendermode InteractiveServer
@inject NavigationManager NavigationManager

<PageTitle>Specialty - Medical Observership</PageTitle>

<div class="header-text">
    <h1>Compete in Goodness & Physician Organization</h1>
    <p>Medical Observership Application Form</p>
</div>

<div class="form-card">
    <div class="form-row">
        <div class="form-group">
            <label>Applicant Name (As Submitted in the Initial Form)</label>
            <input type="text" placeholder="Enter your name here." @bind="applicantName" />
        </div>
        <div class="form-group">
            <label>Applicant Email (As Submitted in the Initial Form)</label>
            <input type="email" placeholder="Enter your Email here." @bind="applicantEmail" />
        </div>
    </div>

    <p class="info-text">
        Applicants must choose a <strong>specialty</strong> and a <strong>physician of interest</strong>, noting that physicians are <strong>volunteers</strong> with <strong>limited availability</strong>. A prudent approach is required to ensure <strong>fairness for all applicants</strong>. If the physician has no availability, please select another. If you will not choose another set of physician, strictly select <strong>N/A</strong>.
    </p>

    <div class="choices-grid">
        @foreach (var choiceNum in new[] { "1st", "2nd", "3rd" })
        {
            <div class="choice-column">
                <div class="choice-title">@choiceNum Choice</div>
                
                <div class="form-group" style="margin-bottom: 20px;">
                    <label>Choose Specialty</label>
                    <select @bind="choices[choiceNum].Specialty">
                        <option value="N/A">N/A</option>
                        <option value="Cardiology">Cardiology</option>
                        <option value="Neurology">Neurology</option>
                        <option value="Pediatrics">Pediatrics</option>
                        <option value="Internal Medicine">Internal Medicine</option>
                    </select>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label>Choose Location & Physician</label>
                    <select @bind="choices[choiceNum].Physician">
                        <option value="N/A">N/A</option>
                        <option value="Dr. Smith - City Hospital">Dr. Smith - City Hospital</option>
                        <option value="Dr. Jones - West Clinic">Dr. Jones - West Clinic</option>
                        <option value="Dr. Brown - North Medical">Dr. Brown - North Medical</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Please select your Physician's Availability</label>
                    <select @bind="choices[choiceNum].Availability">
                        <option value="N/A">N/A</option>
                        <option value="Mon-Wed 9am-12pm">Mon-Wed 9am-12pm</option>
                        <option value="Tue-Thu 2pm-5pm">Tue-Thu 2pm-5pm</option>
                        <option value="Fri 8am-4pm">Fri 8am-4pm</option>
                    </select>
                </div>
            </div>
        }
    </div>

    <div class="next-btn-container">
        <button class="next-btn" @onclick='() => NavigationManager.NavigateTo("citizenship")'>
            Next <i class="fa-solid fa-chevron-right"></i>
        </button>
    </div>
</div>

@code {
    private string applicantName = "";
    private string applicantEmail = "";

    private Dictionary<string, ChoiceModel> choices = new()
    {
        ["1st"] = new ChoiceModel { Specialty = "Cardiology" },
        ["2nd"] = new ChoiceModel { Specialty = "N/A" },
        ["3rd"] = new ChoiceModel { Specialty = "N/A" }
    };

    public class ChoiceModel
    {
        public string Specialty { get; set; } = "N/A";
        public string Physician { get; set; } = "N/A";
        public string Availability { get; set; } = "N/A";
    }
}
